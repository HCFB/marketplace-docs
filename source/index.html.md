---
title: Markeplace_HC

language_tabs: # must be one of https://git.io/vQNgJ
  - shell


toc_footers:

  - <a href='https://market.homecredit.ru'>Маркетлейс "Товары в рассрочку"</a>

includes:
  - errors

search: true
---

# Общие положения
Добро пожаловать на страницу интеграции с Маркетплейсом Хоум Кредит!

В документации детально описан процесс работы с клиентом от момента выбора товара и до момента взаиморасчета с партнером.

На странице содержатся требования к выгружаемому каталогу товаров и сервису API,который необходимо реализовать партнеру при осуществлении интеграции с Маркетплейсом.

<aside class="notice">
Доступ в Личный кабинет партнера (далее ЛК) предоставляется по согласованию с менеджером, реквизиты доступа высылаются на заявленный адрес электронной почты (e-mail).
</aside>

# Предоставление каталога 

<aside class="warning">
Партнер предоставляет каталог товаров в формате XML.
</aside>

<aside class="notice">
Базовый сценарий предполагает, что на каждый регион необходимо задать свой каталог. Возможен вариант когда каталог товаров един для всех регионов, данный сценарий необходимо предварительно согласовать с менеджером.
</aside>


##Описание параметров выгрузки

Ниже описаны основные параметры для выгрузки каталога. Для успешной синхронизации каталога в нем должны присутствовать все обязательные параметры, а также соблюдаться структура выбранного формата.

Выгруженный каталог может содержать в себе любые другие параметры и элементы, например всю структуру YML (стандарт, разработанный Яндексом для принятия и размещения информации в базе данных Яндекс.Маркета), что не будет вызывать ошибок обработки каталога со стороны Маркетплейс.

##Каталог в формате XML

Каталог обязательно должен иметь XML-заголовок, который начинается с первой строки, с нулевого элемента, в заголовке присутствуют атрибуты версии и используемая кодировка. Допустимые кодировки: UTF-8 или windows-1251. Пример заголовка:

За основу предложенной структуры XML-каталога использован формат выгрузки от [Яндекс.Маркет](https://yandex.ru/support/partnermarket/export/vendor-model.html), соответственно, если уже существует синхронизация с платформой Яндекс, достаточно внести незначительные дополнения, чтобы целевую выгрузку можно было задействовать для платформы Marketplace (минимально достаточно добавить атрибут credit в параметр offer, чтобы обозначить товары, которые планируется продавать в рассрочку)


##Информация о наличии товаров

 Базовый сценарий предполагает, что товар может поступить в любую точку самовывоза в рамках региона за указанный в delivery-options срок.

Если товар есть не во всех точках самовывоза или существует техническое ограничение на перевозку товаров из одного пункта в другой, предусмотрен формат указания списка точек самовывоза для отдельно взятого товара, для этого необходимо использовать параметр points и перечислить в нем точки самовывоза:
 
Список точек самовывоза партнер загружает через Личный кабинет, данный процесс описан в разделе[Предоставление информации о точках самовывоза](#19530bd8b7)





##Процесс загрузки каталога

Подготовленный каталог необходимо указать в настройках аккаунта, которые задаются в Личном кабинете. Для каждого региона необходимо указать свой URL до целевого каталога. В случае, если партнер присутствует во всех регионах и имеет единый товарный каталог, необходимо выбрать “Все регионы” (необходимо предварительное согласование менеджера).

![](image_catalogue.jpeg)


#Предоставление информации о точках самовывоза

Точки самовывоза передаются в виде CSV-таблицы с указанием адреса и режима работы. Необходимо использовать разделитель столбцов "," (запятая).

Загрузка и актуализация списка происходит через Личный кабинет. Если для какого-то регионов не указаны точки самовывоза, Покупателю будет предложен вариант доставки курьером.

При возможности разместить CSV на внешнем источнике, можно указать URL до целевого файла.
![](image_selfservice.jpeg)

##Описание параметров CSV с точками самовывоза
| Параметр                    | Описание                                                                                                                                                                            |
|-----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `Id`<br> string             | Идентификатор точки самовывоза.                                                                                                                                                     |
| `TradingPoint`<br> integer  | Код торговой точки, соответствующий данному пункту самовывоза. Код кредитного продукта можно уточнить у менеджера, ответственного за работу с банком.                               |
| `RegionCode`<br> integer    | Идентификатор региона. Значение берется из списка регионов, в которых работает маркетплейс. Список регионов будет предоставлен со стороны Marketplace.                              |
| `RegionName`<br> string     | Название региона согласно списку. Значение берется из списка регионов, в которых работает маркетплейс. Список регионов будет предоставлен со стороны Marketplace.                   |
| `Address`<br> string        | Адрес точки самовывоза (произвольное описание).                                                                                                                                     |
| `workingDays`<br> string    | Режим работы в будние дни, формат XX:XX-XX:XX, например 11:00-20:00                                                                                                                 |
| `Saturday`<br> string       | Режим работы в субботу, формат XX:XX-XX:XX, например 11:00-20:00. Если поле остается пустым, берется значение из workingDays, если указано false —в субботу пункт не работает.      |
| `Sunday`<br>  string             | Режим работы в воскресенье, формат XX:XX-XX:XX, например 11:00-20:00. Если поле остается пустым, берется значение из Saturday, если указано false —в воскресенье пункт не работает. |
#Процесс покупки товара

##Покупка товара с доставкой курьером
Данный сценарий предполагает, что Покупатель подписывает договор без участия партнера, после чего инициируется процесс доставки.
![](image_delivery_curier.jpeg)
##Покупка товара с последующим самовывозом
Данный сценарий предполагает, что в точке самовывоза партнера присутствует кредитный специалист, который имеет доступ в систему Банка и полностью сопровождает процесс подписания договора с Покупателем.
![](image_delivery_self.jpeg)

##Проверка наличия товара у партнера
```shell
curl -vk -X POST  https://example.com/order/check/  
  -H 'Cache-Control: no-cache' -H 'Content-Type: application/json' 
  -d '{"offersRequest": [
        {
            "offerId" : 123,
            "quantity" : 1,
            "regionId" : 77,
            "productCode" : "0-0-6"
        }
    ]}'
```
> Пример ответа в JSON:

```json
[
  {
    "id": 1,
    "name": "Fluffums",
    "breed": "calico",
    "fluffiness": 6,
    "cuteness": 7
  },
  {
    "id": 2,
    "name": "Max",
    "breed": "unknown",
    "fluffiness": 5,
    "cuteness": 10
  }
]
```
В момент когда Покупатель выбрал предложение, партнеру поступает запрос на проверку наличия данного товара в регионе. В ответ партнер должен уведомить о возможности зарезервировать товар, а также прислать условия доставки и самовывоза. Расчет параметров получения товара клиентом должен производиться на основе доступных товаров. (Например, если доступно только 3 из 5 переданных в запросе товаров, стоимость доставки должна быть только для этих трех товаров).


### HTTP запрос

`POST /order/check`

### Body parameters


Parameter | Default | Description
--------- | ------- | -----------
include_cats | false | If set to true, the result will also include cats.
available | true | If set to false, the result will include kittens that have already been adopted.



  
  
 
